"""
文本生成提示词模板
负责构建大纲、文案等文本生成任务的提示词
"""


def build_outline_prompt(topic: str) -> str:
    """
    构建大纲生成提示词
    
    Args:
        topic: 主题描述
        
    Returns:
        完整的提示词
    """
    return f"""你是一个小红书内容创作专家。用户会给你一个要求以及说明，你需要生成一个适合小红书的图文内容大纲。

用户的要求以及说明：
{topic}

要求：
1. 第一页必须是吸引人的封面/标题页，包含标题和副标题
2. 内容控制在 6-12 页（包括封面）（如果用户特别要求页数，以用户的要求为准，页数可以适当放宽到2-18页的范围）
3. 每页内容简洁有力，适合配图展示
4. 使用小红书风格的语言（亲切、有趣、实用）
5. 可以适当使用 emoji 增加趣味性
6. 内容要有实用价值，能解决用户问题或提供有用信息
7. 最后一页可以是总结或行动呼吁

输出格式要求：
- 每页第一行是页面类型标记：[封面]、[内容]、[总结]
- 后面是该页的具体内容描述
- 内容要具体、详细，方便后续生成图片
- 避免在内容中使用 | 竖线符号（会与 markdown 表格冲突）

请严格以JSON格式返回：
```json
{{
  "xiaohongshu_content": "这里是完整的小红书文案内容，带emoji和排版📱✨\\n\\n第一段内容...\\n\\n第二段内容...",
  "image_prompts": [
    {{
      "page_number": 1,
      "title": "[封面] 标题文字",
      "description": "[封面]\\n标题：XXX\\n副标题：XXX\\n背景：XXX场景描述\\n\\n配图建议：XXX"
    }},
    {{
      "page_number": 2,
      "title": "[内容] 第一步标题",
      "description": "[内容]\\n第一步：XXX\\n\\n必备工具：\\n• 工具1\\n• 工具2\\n\\n小贴士💡：\\nXXX提示\\n\\n配图建议：XXX"
    }},
    {{
      "page_number": 3,
      "title": "[内容] 第二步标题",
      "description": "[内容]\\n第二步：XXX\\n\\n关键点⚠️：\\n• 要点1\\n• 要点2\\n\\n配图建议：XXX"
    }},
    {{
      "page_number": 4,
      "title": "[总结] 完成",
      "description": "[总结]\\n完成！XXX✨\\n\\n记住三个关键：\\n✅ 关键点1\\n✅ 关键点2\\n✅ 关键点3\\n\\n配图建议：XXX"
    }}
  ]
}}
```

注意：
- 内容要详细、具体、专业、有价值
- 适合制作成小红书图文
- 避免使用竖线符号 |
- 每页的 description 要包含完整的内容描述和配图建议"""